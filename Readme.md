# Go Web ServerTemplate

## Description

**WIP**: Try to build a modern and full fledged Web Server in Golang.
The goal is to get a versatile base, which can be reused for a variety of projects.

**Features**:

- Multi Usage Server:
  - API Endpoints based on [Connect](https://connectrpc.com/) (Support GRPC, Rest, OpenAPI, Swagger, ...)
  - HTML Endpoints based on [Templ](https://github.com/a-h/templ)
  - CSS based on [Tailwind](https://tailwindcss.com/)
  - Database Access based on [SQLC](https://github.com/sqlc-dev/sqlc) (Support sqlite, postgres, mysql)
- Dev Experience:
  - Dev Environment based on [Devenv](https://devenv.sh/) (Nix + Devcontainer)
  - Code Style from [Golangci-lint](https://github.com/golangci/golangci-lint)
  - Live-Reload with [Air](https://github.com/cosmtrek/air)
- Heavily use code generation (schema first approach) to reduce boilerplate
  - Network queries based on Protobuf (**Schema First**)
  - SQL data structure autogenerated from SQL queries (**SQL First**)

## TODO Progress

- [x] Support Nix/Devenv
- [x] Support .env
- [x] Web UI (HTMX/Templ)
- [x] Handle assets/public folder
- [ ] Background Task (queue)
- [ ] Doc generation
- [ ] Tests / 2e2
- [ ] Distribution (auto build docker images / binaries)

## Getting Started

### Step 1. Install Devenv (Nix)

- [Getting Started](https://devenv.sh/getting-started/)

### Step 2. Run Project

```sh
devenv up -d # Start external service like postgres
devenv shell # Open a shell with all necessary dev tools
```

### Step 3. Dev Commands

- `dev`: Start the server in development mode
- `build`: Create Binary Package `./dist`
- `format`: Use Golangci-lint to auto-fix as much code as possible
- `lint`: Run Golangci-lint
- `generate`: Run all the code generators

## Folder Structure

- `internal/api`: API Schema + Handlers
- `internal/db`: SQL Schema for [SQLC](https://github.com/sqlc-dev/sqlc) (`.sql`)
- `internal/middlewares`: Manipulate Requests and Responses (Auth, Logging, Cors)
